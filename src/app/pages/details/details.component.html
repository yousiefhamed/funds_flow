<section class="w-75 mx-auto mt-2"  *ngIf="step1">
<div *ngFor="let detail of details" >
    
    
    <button  [routerLink]="['/opportunities',detail.category.uuid ]"  class="btn mt-5 text-muted"><i class="fa-regular fa-circle-left" style="color: #888d96;"  ></i>Back</button>
    <img class="w-100 m-4" [src]="detail.photo">

  
</div>   
    </section>                                                          
<section *ngIf="step1">

    <div class="container">
        <mat-tab-group>
            <mat-tab label="About">

                <div class="paragraph m-5" *ngFor="let detail of details">
                           <h1 class=" h4 m-3 fw-bold">
                            {{detail.business_name}}
                           </h1>
                    <p *ngFor="let detail of details" class="fs">
                        {{detail.description}}
                    </p>
                </div>
                <div *ngFor="let detail of details">
                    <ul class=" ">

                        <div class=" d-flex justify-content-between mb-3 w-75 mx-auto">
                            <li>
                                <h2 class="h5 fw-bold">Category </h2>
                            </li>

                            <p *ngFor="let detail of details">{{detail.category.name}}</p>
                        </div>
                        <div class=" d-flex justify-content-between mb-3 w-75 mx-auto">
                            <li cla>
                                <h2 class="h5 fw-bold"> Products or Services</h2>
                            </li>

                            <p class="fs">{{detail.products_or_services}}</p>
                        </div>
                        <div class=" d-flex justify-content-between mb-3 w-75 mx-auto">
                            <li>
                                <h2 class="h5 fw-bold"> Future Growth</h2>
                            </li>

                            <p class="fs">{{detail.future_growth}}</p>
                        </div>
                        <div class=" d-flex justify-content-between mb-3 w-75 mx-auto">
                            <li>
                                <h2 class="h5 fw-bold"> Returns percentage</h2>
                            </li>

                            <p class="fs">{{detail.returns_percentage}}</p>
                        </div>
                        <div class=" d-flex justify-content-between mb-3 w-75 mx-auto">
                            <li>
                                <h2 class="h5 fw-bold"> Company Valuation</h2>
                            </li>

                            <p class="fs">{{detail.company_valuation}}</p>
                        </div>
                        <div class=" d-flex justify-content-between mb-3 w-75 mx-auto">
                            <li>
                                <h2 class="h5 fw-bold"> Potential Risks</h2>
                            </li>

                            <p class="fs">{{detail.potential_risks}}</p>
                        </div>
                        <div class=" d-flex justify-content-between mb-3 w-75 mx-auto">
                            <li>
                                <h2 class="h5 fw-bold"> Start Date</h2>
                            </li>

                            <p class="fs">{{detail.start_date}}</p>
                        </div>
                        <div class=" d-flex justify-content-between mb-3 w-75 mx-auto">
                            <li>
                                <h2 class="h5 fw-bold"> End Date</h2>
                            </li>

                            <p class="fs">{{detail.end_date}}</p>
                        </div>
                    </ul>

                    <div class="text-center mt-5  w-75 mx-auto p-0">
                        <h3 class="mb-3 ">The Total Funding Needed {{detail.amount_needed | currency:"E£" |slice: 0:9}}
                        </h3>
                    </div>
                    <div class="text-center m-3  w-75 mx-auto ">

                        <h3>Remaining Amount {{detail.remaining_amount | currency:"E£" |slice: 0:9}}</h3>

                        <button class="btn btn1 m-3" (click)="investNaw()">Invest Now</button>
                    </div>

                </div>

            </mat-tab>
            <mat-tab label="Financial Performance">



                <div class="ms-5" *ngFor="let detail of details">

                    <div class="m-5  mx-auto">
                        <h3 class="fw-bold">Revenues</h3>
                        <div class="card w-75">
                            <p class="fs">
                                {{detail.revenues }}
                            </p>
                        </div>
                    </div>


                    <div class="m-5 mx-auto ">
                        <h3 class="fw-bold">Net Profits</h3>
                        <div class="card w-75">
                            <p class="fs">
                                {{detail.net_profit}}
                            </p>
                        </div>
                    </div>



                    <div class="m-5 mx-auto ">
                        <h3 class="fw-bold">Profit Margins</h3>
                        <div class="card w-75">
                            <p class="fs">
                                {{detail.profit_margin}}
                            </p>
                        </div>
                    </div>



                    <div class="m-5 mx-auto ">
                        <h3 class="fw-bold">Cash Flow</h3>
                        <div class="card w-75">
                            <p class="fs">
                                {{detail.cash_flow}}
                            </p>
                        </div>
                    </div>



                    <div class="m-5 mx-auto ">
                        <h3 class="fw-bold">Return on Investment (ROI)</h3>
                        <div class="card w-75">
                            <p class="fs">
                                {{detail.ROI}}
                            </p>
                        </div>
                    </div>

                </div>











            </mat-tab>
            <!-- <mat-tab label="Reviews">
            </mat-tab> -->
        </mat-tab-group>


    </div>
</section>



<section class="w-75 mt-5 mx-auto justify-content-center d-flex flex-column align-items-center" *ngIf="step2">

    <div class="container ">
        <div class="row mx-auto align-self-center styleborder  ">
        
        <div class="col-md-8" *ngFor="let detail of details">
            <img [src]="detail.photo" class="w-100  " alt="">
        </div>
        <div class="col-md-4 d-flex align-items-center">
                <div class="div" *ngFor="let detail of details">
                    <h1 class="h4 mt-3">
                        {{detail.business_name}}
                     </h1>
                     <p>Total Amount: 
                         <span>
                            {{detail.amount_needed | currency:"E£" |slice: 0:9}}
                     </span>


                     </p>
                     <p>
                        Remaining Amount :
                        <span>
                           
                            {{detail.remaining_amount | currency:"E£" |slice: 0:9}}
                        </span>
                     </p>
                     <p>{{detail.start_date}}</p>
                </div>
        
        </div>
        </div> 
        <form  [formGroup]="paymentForm" (ngSubmit)="sendAmount()" >
            <p class="text-danger justify-content-center d-flex fw-bold mt-3">We will take a 3% commission from the profits you earn</p>
        
            <input type="number" placeholder="Enter amount you want to pay" class="form-control  text-center text-muted mb-3 styleborder w-75 mx-auto p-3"   formControlName="amount">
             
            <div class="alert alert-danger mb-3 w-75 mx-auto text-center" role="alert" *ngIf="displayError">
                <i class="fa-regular fa-face-smile  " style="color: #c11a6b;"></i>
                    {{displayError}}
            </div>
        <div class=" d-flex flex-column justify-content-center align-items-center">
        <button class="btn btn1 form-control mb-3 p-3 w-50"  [disabled]="paymentForm.invalid">
         
            
            Click here to pay with stripe <span *ngIf="isLoading"> <i class="fa fa-spin fa-spinner"></i></span>
        
        </button>
        <button class="btn styleborder form-control p-3 w-50" (click)="backInvest()">Cancel</button>
        
        </div>
        </form>
        </div>
        

       
</section>

